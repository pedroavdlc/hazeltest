<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Contra Reloj sobre los Funcionarios de Marina - HazelTest</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K4TEPLD75E"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-K4TEPLD75E');
    </script>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Pon a prueba tu rapidez y conocimiento sobre los Funcionarios de la Marina con nuestro Test Contra Reloj en HazelTest. Responde 10 preguntas variadas en tiempo límite.">
    <meta name="keywords" content="test contra reloj, quiz marina, funcionarios de marina, hazeltest, prueba de rapidez, conocimiento naval, test marina tiempo, examen funcionarios marina, test contra reloj sobre los funcionarios de marina">
    <!-- Canonical Link Actualizado a la nueva ruta -->
    <link rel="canonical" href="https://hazeltest.com/marina/estudio/funcionarios/contra-el-reloj-funcionarios.html">
    
    <!-- Favicon -->
    <link rel="icon" href="../../../hazeltest.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../../../hazeltest.ico" type="image/x-icon">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hazeltest.com/marina/estudio/funcionarios/contra-el-reloj-funcionarios.html">
    <meta property="og:title" content="Test Contra Reloj sobre los Funcionarios de Marina - HazelTest">
    <meta property="og:description" content="¿Qué tan rápido puedes identificar datos clave de los Funcionarios de Marina? ¡Descúbrelo con este test cronometrado!">
    <meta property="og:image" content="URL_IMAGEN_REPRESENTATIVA_CONTRA_RELOJ">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://hazeltest.com/marina/estudio/funcionarios/contra-el-reloj-funcionarios.html">
    <meta property="twitter:title" content="Test Contra Reloj sobre los Funcionarios de Marina - HazelTest">
    <meta property="twitter:description" content="¿Qué tan rápido puedes identificar datos clave de los Funcionarios de Marina? ¡Descúbrelo con este test cronometrado!">
    <meta property="twitter:image" content="URL_IMAGEN_REPRESENTATIVA_CONTRA_RELOJ">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        #timer-bar-container { height: 10px; background-color: #E5E7EB; border-radius: 5px; overflow: hidden; margin-bottom: 1rem; }
        #timer-bar { height: 100%; width: 100%; background-color: #22C55E; transition: width 0.1s linear, background-color 0.5s ease; border-radius: 5px; }
        #timer-bar.low-time { background-color: #FACC15; }
        #timer-bar.very-low-time { background-color: #EF4444; }
        .opcion-btn { cursor: pointer; text-align: center; transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.1s ease; }
        .opcion-btn:hover:not(.disabled) { background-color: #D1D5DB; border-color: #6B7280; transform: translateY(-2px); }
        .opcion-btn.disabled { cursor: not-allowed; opacity: 0.7; }
        .opcion-btn.correcta.disabled { background-color: #A7F3D0; border-color: #10B981; color: #065F46; opacity: 1; font-weight: 600; }
        .opcion-btn.incorrecta.disabled { background-color: #FECACA; border-color: #F87171; color: #991B1B; opacity: 1; text-decoration: line-through; }
        .hidden { display: none; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 flex flex-col min-h-screen">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Enlace sube 3 niveles a la raíz -->
            <a href="../../../index.html" class="text-2xl font-bold text-indigo-600">HazelTest</a>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="../../../index.html" class="text-gray-600 hover:text-indigo-600 transition duration-300">Inicio</a>
                <a href="../../../categorias.html" class="text-gray-600 hover:text-indigo-600 transition duration-300">Categorías</a>
                <!-- Enlace sube 2 niveles a la página de Marina -->
                <a href="../../test.html" class="text-gray-600 hover:text-indigo-600 transition duration-300">Marina</a>
                <!-- Enlace Corregido (dentro de la misma carpeta) -->
                <a href="funcionarios-de-marina.html" class="text-gray-600 hover:text-indigo-600 transition duration-300">Funcionarios</a>
                <span class="text-red-600 font-semibold">Contra Reloj</span>
            </div>
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-gray-600 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
         <div id="mobile-menu" class="md:hidden hidden bg-white border-t border-gray-200">
            <a href="../../../index.html" class="block px-4 py-2 text-gray-600 hover:bg-gray-100">Inicio</a>
            <a href="../../../categorias.html" class="block px-4 py-2 text-gray-600 hover:bg-gray-100">Categorías</a>
            <a href="../../test.html" class="block px-4 py-2 text-gray-600 hover:bg-gray-100">Marina</a>
            <!-- Enlace Corregido -->
            <a href="funcionarios-de-marina.html" class="block px-4 py-2 text-gray-600 hover:bg-gray-100">Funcionarios</a>
            <span class="block px-4 py-2 text-red-600 bg-red-50 font-semibold">Contra Reloj</span>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12 md:py-16 flex-grow">
        <div class="bg-white p-6 md:p-10 rounded-lg shadow-xl max-w-3xl mx-auto">

            <section id="introduccion-quiz" class="mb-8 pb-6 border-b border-gray-300">
                <div class="flex items-center justify-center mb-4">
                     <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-red-600 mr-3">
                       <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                     </svg>
                    <h1 class="text-3xl md:text-4xl font-bold text-gray-900 text-center">Test Contra Reloj sobre los Funcionarios de Marina</h1>
                </div>
                <p class="text-lg text-gray-700 leading-relaxed mb-4 text-justify">
                    ¡Bienvenido al desafío Contra Reloj! Esta prueba está diseñada para medir tu rapidez y precisión al recordar información clave sobre los Funcionarios de la Marina. La agilidad mental es crucial, y este test te ayudará a evaluarla.
                </p>
                <p class="text-gray-600 leading-relaxed text-justify mb-4">
                    Se te presentarán 10 preguntas seleccionadas al azar sobre nombres, apellidos y cargos. Para cada pregunta, tendrás un límite de <strong>15 segundos</strong> para elegir la respuesta correcta entre varias opciones.
                </p>
                <p class="text-gray-600 leading-relaxed text-justify">
                    Presta atención, concéntrate y demuestra qué tan "fibra" eres. ¡Mucha suerte!
                </p>
                 <div class="mt-6 text-center">
                    <button id="start-quiz-button" class="bg-red-600 text-white font-semibold px-8 py-3 rounded-md hover:bg-red-700 transition duration-300 shadow-md">
                        Comenzar Test
                    </button>
                </div>
            </section>

            <div id="quiz-activo" class="hidden">
                <div id="timer-bar-container"><div id="timer-bar"></div></div>
                <div class="text-center text-sm font-medium text-gray-600 mb-4">Tiempo restante: <span id="timer-text">15</span>s</div>
                <div class="flex justify-between items-center mb-6 text-sm text-gray-600">
                    <span id="progreso">Pregunta 1 / 10</span>
                    <span id="puntuacion">Puntuación: 0</span>
                </div>
                <div class="mb-8 text-center">
                     <p id="pregunta-texto" class="text-xl md:text-2xl font-semibold text-gray-800">- - -</p>
                </div>
                <div id="opciones-respuesta" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                    <span class="text-gray-500 sm:col-span-2 text-center">Cargando opciones...</span>
                </div>
                 <div id="feedback-container" class="text-center h-6 mb-4">
                     <p id="feedback" class="text-base font-semibold"></p>
                </div>
            </div>
            <div id="resultado-final" class="hidden text-center">
                 <h2 class="text-3xl font-bold text-center text-red-700 mb-6">¡Tiempo Terminado!</h2>
                 <p class="text-xl text-center mb-2">Tu puntuación final es:</p>
                 <p id="puntuacion-final" class="text-6xl font-bold text-center text-gray-800 mb-4">0 / 10</p>
                 <p id="frase-final" class="text-lg italic text-gray-700 mt-4 mb-8 px-4"></p>
                 <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
                     <button id="reiniciar-btn" class="w-full sm:w-auto bg-gray-600 text-white py-2 px-6 rounded-md hover:bg-gray-700 transition duration-300">
                         Volver a Jugar
                     </button>
                     <!-- Enlace Corregido -->
                     <a href="funcionarios-de-marina.html" class="w-full sm:w-auto text-center inline-block bg-indigo-600 text-white py-2 px-6 rounded-md hover:bg-indigo-700 transition duration-300">
                         Otros Quizzes de Funcionarios
                     </a>
                 </div>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-gray-300 py-8 mt-auto">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 HazelTest. Todos los derechos reservados.</p>
            <div class="mt-4 space-x-4">
                 <!-- Enlaces suben 3 niveles a la raíz -->
                 <a href="../../../privacidad.html" class="hover:text-white">Política de Privacidad</a>
                 <a href="../../../terminos-y-condiciones.html" class="hover:text-white">Términos de Servicio</a>
                 <a href="../../../contacto.html" class="hover:text-white">Contacto</a>
                 <a href="../../../mapa-del-sitio.html" class="hover:text-white">Mapa del Sitio</a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Datos Base de Funcionarios ---
            const funcionariosInfo = [
                { id: 0, grado: "Almirante", nombres: ["Raymundo", "Pedro"], apellidos: ["Morales", "Ángeles"], nombreCompleto: "Almirante Raymundo Pedro Morales Ángeles", puesto: "Secretario de Marina" },
                { id: 1, grado: "Almirante", nombres: ["José"], apellidos: ["Barradas", "Cobos"], nombreCompleto: "Almirante José Barradas Cobos", puesto: "Subsecretario de Marina" },
                { id: 2, grado: "Almirante", nombres: ["Francisco", "Guillermo"], apellidos: ["Escamilla", "Cázares"], nombreCompleto: "Almirante Francisco Guillermo Escamilla Cázares", puesto: "Oficial Mayor" },
                { id: 3, grado: "Almirante", nombres: ["Gerardo", "de", "Jesús"], apellidos: ["Toledo", "Guzmán"], nombreCompleto: "Almirante Gerardo de Jesús Toledo Guzmán", puesto: "Inspector y Contralor General de Marina" },
                { id: 4, grado: "Almirante", nombres: ["José", "Manuel"], apellidos: ["Salinas", "Pérez"], nombreCompleto: "Almirante José Manuel Salinas Pérez", puesto: "Jefe del Estado Mayor General de la Armada" },
                { id: 5, grado: "Capitán de Altura", nombres: ["Manuel", "Fernando"], apellidos: ["Gutiérrez", "Gallardo"], nombreCompleto: "Capitán de Altura Manuel Fernando Gutiérrez Gallardo", puesto: "Coordinador General de Puertos y Marina Mercante" }
            ];
            const todosNombresPropios = [...new Set(funcionariosInfo.flatMap(f => f.nombres))];
            const todosApellidos = [...new Set(funcionariosInfo.flatMap(f => f.apellidos))];
            const todosPuestos = [...new Set(funcionariosInfo.map(f => f.puesto))];
            const todosNombresCompletos = funcionariosInfo.map(f => f.nombreCompleto);

            // --- Función para barajar ---
            function shuffleArray(array) { for (let i = array.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1));[array[i], array[j]] = [array[j], array[i]]; } }

            // --- Función para generar el pool completo de preguntas ---
            function generarPoolPreguntas() {
                const pool = [];
                funcionariosInfo.forEach(f => {
                    const nombrePilaStr = f.nombres.join(' '); const apellidosStr = f.apellidos.join(' '); const nombreCompleto = f.nombreCompleto; const idFuncionario = f.id;
                    if (f.apellidos.length > 0) { pool.push(crearPreguntaOpcionMultiple(`¿Cuál es el primer apellido de ${f.grado} ${nombrePilaStr}?`, f.apellidos[0], todosApellidos, idFuncionario, (item, id) => funcionariosInfo[id].apellidos[0])); }
                    if (f.apellidos.length > 1) { pool.push(crearPreguntaOpcionMultiple(`¿Cuál es el segundo apellido de ${f.grado} ${nombrePilaStr}?`, f.apellidos[1], todosApellidos, idFuncionario, (item, id) => funcionariosInfo[id].apellidos.length > 1 ? funcionariosInfo[id].apellidos[1] : null)); }
                    if (f.nombres.length > 0) { pool.push(crearPreguntaOpcionMultiple(`¿Cuál es el primer nombre de ${f.grado} ${apellidosStr}?`, f.nombres[0], todosNombresPropios, idFuncionario, (item, id) => funcionariosInfo[id].nombres[0])); }
                    if (f.nombres.length > 1 && f.nombres[1] !== 'de') { pool.push(crearPreguntaOpcionMultiple(`¿Cuál es el segundo nombre de ${f.grado} ${apellidosStr}?`, f.nombres[1], todosNombresPropios.filter(n => n !== 'de'), idFuncionario, (item, id) => (funcionariosInfo[id].nombres.length > 1 && funcionariosInfo[id].nombres[1] !== 'de') ? funcionariosInfo[id].nombres[1] : null)); }
                    pool.push(crearPreguntaOpcionMultiple(`¿Qué cargo ostenta ${nombreCompleto}?`, f.puesto, todosPuestos, idFuncionario, (item, id) => funcionariosInfo[id].puesto));
                    pool.push(crearPreguntaOpcionMultiple(`¿Quién ostenta el cargo de "${f.puesto}"?`, nombreCompleto, todosNombresCompletos, idFuncionario, (item, id) => funcionariosInfo[id].nombreCompleto));
                }); return pool;
            }
            function crearPreguntaOpcionMultiple(textoPregunta, respuestaCorrecta, poolDistractores, idCorrecto, obtenerDistractorFn) {
                let distractores = poolDistractores.filter(item => item !== respuestaCorrecta);
                if (obtenerDistractorFn) {
                    const dE = [];
                    for (let i = 0; i < funcionariosInfo.length; i++) { if (i !== idCorrecto) { const d = obtenerDistractorFn(null, i); if (d && d !== respuestaCorrecta && !dE.includes(d)) { dE.push(d); } } }
                    if (dE.length >= 3) { distractores = dE; }
                }
                shuffleArray(distractores); const opciones = [respuestaCorrecta, ...distractores.slice(0, 3)];
                while (opciones.length < 4 && distractores.length > opciones.length - 1) { opciones.push(distractores[opciones.length - 1]); }
                shuffleArray(opciones); return { textoPregunta, respuestaCorrecta, opciones };
            }
            const frasesResultado = {
                alta: [ "¡Velocidad y precisión! Excelente trabajo contra reloj.", "¡Impresionante! Dominas los datos bajo presión.", "¡Rápido y certero! Listo para cualquier desafío." ],
                media: [ "¡Buen ritmo! Sigue practicando para mejorar la velocidad.", "Lograste un buen puntaje, ¡pero el tiempo apremia!", "No está mal, pero cada segundo cuenta." ],
                baja: [ "¡El tiempo vuela! Necesitas más agilidad mental.", "Se acabó el tiempo... ¡A practicar la memoria rápida!", "Contra reloj es difícil, ¡sigue intentándolo!" ]
            };

            // --- Elementos del DOM ---
            const introduccionQuizContainer = document.getElementById('introduccion-quiz');
            const startQuizButton = document.getElementById('start-quiz-button');
            const quizActivoContainer = document.getElementById('quiz-activo');
            const resultadoFinalContainer = document.getElementById('resultado-final');
            const preguntaTextoElement = document.getElementById('pregunta-texto');
            const opcionesContainer = document.getElementById('opciones-respuesta');
            const feedbackElement = document.getElementById('feedback');
            const feedbackContainer = document.getElementById('feedback-container');
            const progresoElement = document.getElementById('progreso');
            const puntuacionElement = document.getElementById('puntuacion');
            const puntuacionFinalElement = document.getElementById('puntuacion-final');
            const fraseFinalElement = document.getElementById('frase-final');
            const reiniciarBtn = document.getElementById('reiniciar-btn');
            const timerBar = document.getElementById('timer-bar');
            const timerText = document.getElementById('timer-text');

            // --- Estado del Quiz ---
            let currentQuestionIndex = 0;
            let score = 0;
            let timeLeft = 15;
            let timerId = null;
            let respuestaSeleccionada = false;
            let preguntasDelQuiz = [];
            let poolCompletoGlobal = [];

            function cargarPregunta() {
                if (currentQuestionIndex >= preguntasDelQuiz.length) { mostrarResultados(); return; }
                respuestaSeleccionada = false; const pA = preguntasDelQuiz[currentQuestionIndex];
                if(preguntaTextoElement) preguntaTextoElement.textContent = pA.textoPregunta;
                if(opcionesContainer) opcionesContainer.innerHTML = '';
                if(feedbackElement) feedbackElement.textContent = '';
                if(feedbackContainer) feedbackContainer.className = 'text-center h-6 mb-4';
                if(progresoElement) progresoElement.textContent = `Pregunta ${currentQuestionIndex + 1} / ${preguntasDelQuiz.length}`;
                if(puntuacionElement) puntuacionElement.textContent = `Puntuación: ${score}`;
                const oB = [...pA.opciones]; shuffleArray(oB);
                oB.forEach(o => { const b = document.createElement('button'); b.textContent = o; b.classList.add('opcion-btn', 'w-full', 'px-4', 'py-3', 'border-2', 'border-gray-400', 'rounded-md', 'bg-white', 'text-gray-700', 'font-medium'); b.dataset.respuesta = o; b.addEventListener('click', () => seleccionarRespuesta(b)); if(opcionesContainer) opcionesContainer.appendChild(b); });
                timeLeft = 15; actualizarTimerDisplay(); clearInterval(timerId); timerId = setInterval(tickTimer, 1000);
            }
            function tickTimer() { timeLeft--; actualizarTimerDisplay(); if (timeLeft <= 0) { manejarTimeout(); } }
            function actualizarTimerDisplay() {
                if(timerText) timerText.textContent = timeLeft;
                const p = (timeLeft / 15) * 100;
                if(timerBar) timerBar.style.width = `${p}%`;
                if(timerBar) {
                    timerBar.classList.remove('low-time', 'very-low-time');
                    if (timeLeft <= 5) { timerBar.classList.add('very-low-time'); }
                    else if (timeLeft <= 10) { timerBar.classList.add('low-time'); }
                }
            }
            function seleccionarRespuesta(bS) {
                if (respuestaSeleccionada) return; respuestaSeleccionada = true; clearInterval(timerId);
                const r = bS.dataset.respuesta; const pA = preguntasDelQuiz[currentQuestionIndex]; const eC = (r === pA.respuestaCorrecta);
                if(opcionesContainer) opcionesContainer.querySelectorAll('.opcion-btn').forEach(b => { b.classList.add('disabled'); if (b.dataset.respuesta === pA.respuestaCorrecta) { b.classList.add('correcta'); } if (b === bS && !eC) { b.classList.add('incorrecta'); } });
                if (eC) {
                    if(feedbackElement) feedbackElement.textContent = '¡Correcto!';
                    if(feedbackContainer) feedbackContainer.className = 'text-center h-6 mb-4 text-green-600 font-semibold';
                    score++;
                    if(puntuacionElement) puntuacionElement.textContent = `Puntuación: ${score}`;
                } else {
                    if(feedbackElement) feedbackElement.textContent = 'Incorrecto';
                    if(feedbackContainer) feedbackContainer.className = 'text-center h-6 mb-4 text-red-600 font-semibold';
                }
                setTimeout(siguientePregunta, 1200);
            }
            function manejarTimeout() {
                if (respuestaSeleccionada) return; respuestaSeleccionada = true; clearInterval(timerId);
                if(feedbackElement) feedbackElement.textContent = '¡Tiempo agotado!';
                if(feedbackContainer) feedbackContainer.className = 'text-center h-6 mb-4 text-orange-600 font-semibold';
                const pA = preguntasDelQuiz[currentQuestionIndex];
                if(opcionesContainer) opcionesContainer.querySelectorAll('.opcion-btn').forEach(b => { b.classList.add('disabled'); if (b.dataset.respuesta === pA.respuestaCorrecta) { b.classList.add('correcta'); } });
                setTimeout(siguientePregunta, 1500);
            }
            function siguientePregunta() { currentQuestionIndex++; cargarPregunta(); }
            function mostrarResultados() {
                if(quizActivoContainer) quizActivoContainer.classList.add('hidden');
                let cP; const pM = preguntasDelQuiz.length;
                if (score >= pM * 0.8) { cP = 'alta'; } else if (score >= pM * 0.6) { cP = 'media'; } else { cP = 'baja'; }
                const fC = frasesResultado[cP]; const fS = fC[Math.floor(Math.random() * fC.length)];
                if(puntuacionFinalElement) puntuacionFinalElement.textContent = `${score} / ${pM}`;
                if(fraseFinalElement) fraseFinalElement.textContent = fS;
                if(resultadoFinalContainer) resultadoFinalContainer.classList.remove('hidden');
            }
            function iniciarQuiz() {
                if (poolCompletoGlobal.length === 0) { poolCompletoGlobal = generarPoolPreguntas(); }
                shuffleArray(poolCompletoGlobal); preguntasDelQuiz = poolCompletoGlobal.slice(0, 10);
                currentQuestionIndex = 0; score = 0;
                if(introduccionQuizContainer) introduccionQuizContainer.classList.add('hidden');
                if(quizActivoContainer) quizActivoContainer.classList.remove('hidden');
                if(resultadoFinalContainer) resultadoFinalContainer.classList.add('hidden');
                cargarPregunta();
            }

            if(startQuizButton) startQuizButton.addEventListener('click', iniciarQuiz);
            if(reiniciarBtn) reiniciarBtn.addEventListener('click', () => {
                if(introduccionQuizContainer) introduccionQuizContainer.classList.remove('hidden');
                if(quizActivoContainer) quizActivoContainer.classList.add('hidden');
                if(resultadoFinalContainer) resultadoFinalContainer.classList.add('hidden');
            });

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) { mobileMenuButton.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); }); }
        });
    </script>

</body>
</html>